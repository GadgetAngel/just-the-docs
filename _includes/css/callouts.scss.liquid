{%- comment -%}
  {% include css/callouts.scss.liquid color_scheme = string %}
  produces SCSS for all the callouts in site.callouts. For the "dark"
  color scheme, the hues of the text and background colors are reversed.
{%- endcomment -%}

{%- assign callout_background_hue = "000" -%}
{%- assign callout_color_hue = "300" -%}
{%- if include.color_scheme == "dark" -%}
  {%- assign callout_background_hue = "300" -%}
  {%- assign callout_color_hue = "000" -%}
{%- endif -%}

{%- for callout in site.callouts %}

{%- assign callout_opacity = callout[1].opacity | default: 0.4 -%}

.{{ callout[0] }} {
    background: rgba(${{ callout[1].color }}-{{ callout_background_hue }}, {{ callout_opacity }});
    border-left: $border-radius solid ${{ callout[1].color }}-{{ callout_color_hue }};
    border-radius: $border-radius;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.12), 0 3px 10px rgba(0, 0, 0, 0.08);
    padding: .8rem;
    {% if callout[1].title %}
    &::before {
        color: ${{ callout[1].color }}-{{ callout_color_hue }};
        content: "{{ callout[1].title }}";
        display: block;
        font-weight: bold;
        text-transform: uppercase;
        font-size: .75em;
        padding-bottom: .125rem;
    }
    {% endif %}
}

blockquote.{{ callout[0] }} {
  margin-left: 0;
  margin-right: 0;
  
  > p:first-child {
    margin-top: 0;
  }
    
  > p:last-child {
    margin-bottom: 0;
  }
}
{% endfor -%}
